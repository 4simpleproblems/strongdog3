<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Drive Mad 200 Levels - StrongdogXP</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
        }
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>

<iframe id="gameFrame" src="https://injex-2642ef349319.herokuapp.com/?id=19"></iframe>

<script>
    const gameIframe = document.getElementById('gameFrame');
    
    // This variable will hold the ID of our repeating interval
    // so we can start and stop it.
    let focusInterval = null;

    // This function sets focus on the game inside the iframe.
    const focusGame = () => {
        if (gameIframe && gameIframe.contentWindow) {
            gameIframe.contentWindow.focus();
        }
    };

    // This function STARTS the aggressive focus loop.
    const startForcingFocus = () => {
        // Clear any existing interval to prevent duplicates.
        if (focusInterval !== null) {
            clearInterval(focusInterval);
        }
        // Start a new interval that calls focusGame every 100ms.
        focusInterval = setInterval(focusGame, 100);
    };

    // This function STOPS the aggressive focus loop.
    const stopForcingFocus = () => {
        if (focusInterval !== null) {
            clearInterval(focusInterval);
            focusInterval = null; // Reset the variable
        }
    };

    // --- Event Listeners to Control the Focus Lock ---

    // 1. Give the game an initial focus when the page loads.
    window.addEventListener('load', focusGame);

    // 2. When the mouse enters the iframe, start the focus lock.
    // This also handles clicks, as you must hover over the frame to click it.
    gameIframe.addEventListener('mouseenter', startForcingFocus);

    // 3. When the mouse leaves the iframe, stop the focus lock.
    // This is crucial to allow you to interact with other things.
    gameIframe.addEventListener('mouseleave', stopForcingFocus);

</script>

<script>
    if (window.top === window.self) {
        // window.location.href = '../../../';
    }
</script>

</body>
</html>
